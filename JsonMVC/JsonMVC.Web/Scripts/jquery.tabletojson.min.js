/**
 * tabletojson
 * jQuery plugin that reads an HTML table and returns a javascript object representing the values and columns of the table
 *
 * @author Daniel White
 * @copyright Daniel White 2015
 * @license MIT <https://github.com/lightswitch05/table-to-json/blob/master/MIT-LICENSE>
 * @link https://github.com/lightswitch05/table-to-json
 * @module tabletojson
 * @version 0.11.1
 */
(function(n){"use strict";n.fn.tableToJSON=function(t){t=n.extend({ignoreColumns:[],onlyColumns:null,ignoreHiddenRows:!0,ignoreEmptyRows:!1,headings:null,allowHTML:!1,includeRowId:!1,textDataOverride:"data-override",textExtractor:null},t);var i=function(n){return n!==undefined&&n!==null},u=function(r){return i(t.onlyColumns)?n.inArray(r,t.onlyColumns)===-1:n.inArray(r,t.ignoreColumns)!==-1},f=function(t,r){var f={},u=0;return n.each(r,function(n,r){u<t.length&&i(r)&&(f[t[u]]=r,u++)}),f},r=function(i,r,u){var f=n(r),e=t.textExtractor,o=f.attr(t.textDataOverride);return e===null||u?n.trim(o||(t.allowHTML?f.html():r.textContent||f.text())||""):n.isFunction(e)?n.trim(o||e(i,f)):typeof e=="object"&&n.isFunction(e[i])?n.trim(o||e[i](i,f)):n.trim(o||(t.allowHTML?f.html():r.textContent||f.text())||"")},e=function(i,u){var e=[],f=t.includeRowId,o=typeof f=="boolean"?f:typeof f=="string"?!0:!1,s=typeof f=="string"==!0?f:"rowId";return o&&typeof n(i).attr("id")=="undefined"&&e.push(s),n(i).children("td,th").each(function(n,t){e.push(r(n,t,u))}),e},o=function(n){var r=n.find("tr:first").first();return i(t.headings)?t.headings:e(r,!0)},s=function(e,o){var c,y,p,b,l,v,a,h=[],s=0,w=[];return e.children("tbody,*").children("tr").each(function(u,f){var e,o,w;(u>0||i(t.headings))&&(e=t.includeRowId,o=typeof e=="boolean"?e:typeof e=="string"?!0:!1,v=n(f),w=v.find("td").length===v.find("td:empty").length?!0:!1,!v.is(":visible")&&t.ignoreHiddenRows||w&&t.ignoreEmptyRows||v.data("ignore")&&v.data("ignore")!=="false"||(s=0,h[u]||(h[u]=[]),o&&(s=s+1,typeof v.attr("id")!="undefined"?h[u].push(v.attr("id")):h[u].push("")),v.children().each(function(){for(a=n(this);h[u][s];)s++;if(a.filter("[rowspan]").length)for(p=parseInt(a.attr("rowspan"),10)-1,l=r(s,a),c=1;c<=p;c++)h[u+c]||(h[u+c]=[]),h[u+c][s]=l;if(a.filter("[colspan]").length)for(p=parseInt(a.attr("colspan"),10)-1,l=r(s,a),c=1;c<=p;c++)if(a.filter("[rowspan]").length)for(b=parseInt(a.attr("rowspan"),10),y=0;y<b;y++)h[u+y][s+c]=l;else h[u][s+c]=l;l=h[u][s]||r(s,a);i(l)&&(h[u][s]=l);s++})))}),n.each(h,function(r,e){if(i(e)){var s=i(t.onlyColumns)||t.ignoreColumns.length?n.grep(e,function(n,t){return!u(t)}):e,h=i(t.headings)?o:n.grep(o,function(n,t){return!u(t)});l=f(h,s);w[w.length]=l}}),w},h=o(this);return s(this,h)}})(jQuery);
//# sourceMappingURL=jquery.tabletojson.min.js.map
